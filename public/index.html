<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>myClarity</title>

		<meta
			http-equiv="Content-Security-Policy"
			content="default-src 'self' capacitor-electron://* 'unsafe-inline' devtools://* 'unsafe-eval' data: localhost:* ws://localhost:3000/ wss://localhost:3000/ https://clarity-dev-1c905.firebaseapp.com/ https://clarity-staging-dd864.firebaseapp.com/ https://*.gstatic.com https://*.googleapis.com https://*.google.com https://avatars.dicebear.com; style-src 'self' 'unsafe-inline' https://*.googleapis.com; img-src 'self' data: blob: https://firebasestorage.googleapis.com"
		/>

		<base href="/" />

		<meta name="color-scheme" content="light" />
		<meta
			name="viewport"
			content="viewport-fit=cover, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"
		/>
		<meta name="format-detection" content="telephone=no" />
		<meta name="msapplication-tap-highlight" content="no" />

		<link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
		<link
			rel="shortcut icon"
			id="favicon"
			type="image/icon"
			href="%PUBLIC_URL%/assets/favicon-dark.ico"
		/>

		<!-- add to homescreen for ios -->
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-title" content="myClarity" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black" />

		<!-- Add Locally -->
		<link
			rel="stylesheet"
			href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
		/>
		<link rel="preconnect" href="https://fonts.gstatic.com" />
		<link
			href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;600&display=swap"
			rel="stylesheet"
		/>
	</head>

	<body>
		<div id="root"></div>
	</body>
</html>

<!-- Switch Favicon if Dark Mode -->
<script>
	const usesDarkMode =
		window.matchMedia("(prefers-color-scheme: dark)").matches || false;
	const favicon = document.getElementById("favicon");
	//const manifest = document.getElementById('manifest');

	function switchIcon(usesDarkMode) {
		if (usesDarkMode) {
			favicon.href = "%PUBLIC_URL%/assets/favicon-light.ico";
			//manifest.href='%PUBLIC_URL%/manifest-dark.json'
		} else {
			favicon.href = "%PUBLIC_URL%/assets/favicon-dark.ico";
			//manifest.href='%PUBLIC_URL%/manifest-light.json'
		}
	}

	window
		.matchMedia("(prefers-color-scheme: dark)")
		.addEventListener("change", (e) => switchIcon(e.matches));
	switchIcon(usesDarkMode);
</script>
